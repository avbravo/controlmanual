<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

    <h:head>
        <title>Login</title>
        <link rel="stylesheet" href="./resources/css/style.css"/>
        <link rel="stylesheet" href="./resources/vendors/ti-icons/css/themify-icons.css"/>
        <link rel="stylesheet" href="./resources/vendors/base/vendor.bundle.base.css"/>
        <!--<h:outputStylesheet library="css" name="styles.css"/>-->
        <meta name="referrer" content="no-referrer"/>
        <meta name="referrer" content="strict-origin-when-cross-origin"/>
        <f:metadata>
            <f:viewAction action="#{accessController.browserEvent()}"/>
        </f:metadata>
    </h:head>
    <h:body>
        <div class="container-scroller">
            <div class="container-fluid page-body-wrapper full-page-wrapper">
                <div class="content-wrapper d-flex align-items-center auth px-0">
                    <div class="row w-100 mx-0">
                        <div class="col-lg-4 mx-auto">
                            <div class="auth-form-light text-left py-5 px-4 px-sm-5">
                                <div class="row justify-content-center">
                                    <div class="col-12 col-lg-12">
                                        <!--                                        <img src="./resources/images/portada02.png" class="img-fluid" alt="" />-->
                                        <p:graphicImage name="portada02.png" library="images" alt="" class="img-fluid" 
                                                        width="100"    
                                                        height="100"
                                                        />
                                    </div>				  
                                </div>
                                <div class="row justify-content-center">
                                    <div class="col-12 col-lg-12">
                                        <!--<img src="./resources/images/portada03.png" class="img-fluid" alt="" />-->
                                        <p:graphicImage name="portada03.png" library="images" alt="" class="img-fluid" 
                                                        width="100"    
                                                        height="100"
                                                        />
                                    </div>				  
                                </div>
                                <h4 class="text-center">Control Manual</h4>
                                <h6 class="font-weight-light text-center">Ingrese credenciales </h6>
                                <h:form id="form" prependId="false" class="pt-3">
                                    <p:growl  id="growl" >
                                        <p:autoUpdate/>
                                    </p:growl>
                                    <div class="form-group">
                                        <p:outputLabel for="username">Usuario</p:outputLabel>
                                        <h:inputText id="username" class="form-control form-control-lg rounded-pill" pt:placeholder="Usuario"
                                                     required="true"
                                                     requiredMessage="Ingrese el nombre de usuario"
                                                     value="#{accessController.username}">
                                        </h:inputText>
                                        <p:message for="username" severity="error"/>

                                    </div>
                                    <div class="form-group">
                                        <p:outputLabel for="password">Password</p:outputLabel>
                                        <h:inputSecret  id="password"
                                                        required="true"
                                                        requiredMessage="Ingrese el password"
                                                        class="form-control form-control-lg rounded-pill" pt:placeholder="ContraseÃ±a"
                                                        value="#{accessController.password}"
                                                        ></h:inputSecret>
                                        <p:message for="password" severity="error"/>

                                    </div>
                                    <div class="form-group">
                                        <p:selectOneMenu id="selectOneMenuBanco" 
                                                         class="form-control rounded-pill solosel01"
                                                         value="#{accessController.selectOneMenuBancoValue}" 
                                                         converter="#{bancoConverter}"

                                                         >
                                            <f:selectItem itemLabel="Seleccione un Banco" itemValue="#{null}"  noSelectionOption="true"/>
                                            <f:selectItems value="#{accessController.bancoList}" 
                                                           var="var" 
                                                           itemValue="#{var}" itemLabel="#{var.BANCO} " />

                                            <p:ajax listener="#{accessController.subjectSelectionChanged}"
                                                    event="change"
                                                    update=":form:growl"
                                                    />


                                        </p:selectOneMenu>
                                        <p:message for="selectOneMenuBanco"/>
                                    </div>
                                    <div class="mt-3">
                                        <p:commandButton class="btn btn-block btn-danger btn-lg font-weight-medium auth-form-btn rounded-pill" 
                                                         value="Ingresar" 
                                                         update=":form:growl"
                                                         action="#{accessController.login()}"
                                                         />



                                    </div>
                                    <!--                                    <div class="mt-3">
                                                                            <p:outputLabel value="Version: #{accessController.version}"/>
                                                                        </div>-->






                                </h:form>


                            </div>
                        </div>
                    </div>
                </div>
                <!-- content-wrapper ends -->
            </div>
            <!-- page-body-wrapper ends -->
        </div>
    </h:body>

    <!-- container-scroller -->
    <!-- plugins:js -->
    <!--<script src="./resources/vendors/base/vendor.bundle.base.js"></script>-->
    <!-- endinject -->
    <!-- inject:js -->
    <!--    <script src="./resources/js/off-canvas.js"></script>
        <script src="./resources/js/hoverable-collapse.js"></script>
        <script src="./resources/js/template.js"></script>
        <script src="./resources/js/todolist.js"></script>-->
</html>
